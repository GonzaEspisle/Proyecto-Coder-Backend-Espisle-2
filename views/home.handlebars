<h1>Listado de Productos</h1>
<p>PÃ¡gina {{page}} de {{totalPages}}</p>


<div style="margin-bottom: 20px;">
Â  Â  <h3>Filtros y Ordenamiento</h3>
Â  Â  <form action="/products" method="GET">
Â  Â  Â  Â  <label for="query">Buscar por CategorÃ­a o Disponibilidad:</label>
Â  Â  Â  Â  <input type="text" name="query" id="query" value="{{currentQuery}}">
Â  Â  Â  Â  
Â  Â  Â  Â  <label for="limit">LÃ­mite:</label>
Â  Â  Â  Â  <input type="number" name="limit" id="limit" value="{{currentLimit}}" min="1" style="width: 50px;">
Â  Â  Â  Â  
Â  Â  Â  Â  <label for="sort">Ordenar por Precio:</label>
Â  Â  Â  Â  <select name="sort" id="sort">
Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  <option value="" {{#eq currentSort ""}}selected{{/eq}}>Sin Orden</option>
Â  Â  Â  Â  Â  Â  <option value="asc" {{#eq currentSort 'asc'}}selected{{/eq}}>Ascendente (Menor a Mayor)</option>
Â  Â  Â  Â  Â  Â  <option value="desc" {{#eq currentSort 'desc'}}selected{{/eq}}>Descendente (Mayor a Menor)</option>
Â  Â  Â  Â  </select>
Â  Â  Â  Â  
Â  Â  Â  Â  <button type="submit">Aplicar</button>
Â  Â  Â  Â  <a href="/products">Limpiar Filtros</a>
Â  Â  </form>
</div>




<div class="product-list">
Â  Â  {{#if products}}
Â  Â  Â  Â  <ul>
Â  Â  Â  Â  Â  Â  {{#each products}}
Â  Â  Â  Â  Â  Â  Â  Â  <li>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <h4>{{this.title}}</h4>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Precio:</strong> ${{this.price}}</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Stock:</strong> {{this.stock}} | <strong>CategorÃ­a:</strong> {{this.category}}</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <a href="/products/{{this._id}}" style="margin-right: 15px;">Ver Detalle</a> 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="addToCart('{{this._id}}')">ðŸ›’ Agregar al Carrito</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <hr>
Â  Â  Â  Â  Â  Â  Â  Â  </li>
Â  Â  Â  Â  Â  Â  {{/each}}
Â  Â  Â  Â  </ul>
Â  Â  {{else}}
Â  Â  Â  Â  <p>No se encontraron productos con los filtros aplicados.</p>
Â  Â  {{/if}}
</div>




<div class="pagination-controls" style="margin-top: 20px;">
Â  Â  {{#if hasPrevPage}}
Â  Â  Â  Â  <a href="{{prevLink}}">Â« Anterior</a>
Â  Â  {{else}}
Â  Â  Â  Â  <button disabled>Â« Anterior</button>
Â  Â  {{/if}}

Â  Â  <span style="margin: 0 15px;">PÃ¡gina {{page}}</span>

Â  Â  {{#if hasNextPage}}
Â  Â  Â  Â  <a href="{{nextLink}}">Siguiente Â»</a>
Â  Â  {{else}}
Â  Â  Â  Â  <button disabled>Siguiente Â»</button>
Â  Â  {{/if}}
</div>


<p class="link-realtime"><a href="/realtimeproducts">Ir a RealTimeProducts</a></p>